<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
    <meta charset="utf-8"/>
    <title>    Gallery PHP code documentation &raquo; \OCA\GalleryPlus\Environment\Environment
</title>
    <meta name="author" content=""/>
    <meta name="description" content=""/>

            <link href="../css/template.css" rel="stylesheet" media="all"/>
    
            <!--[if lt IE 9]>
        <script src="https://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
        <![endif]-->
        <script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script>
        <script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script>
        <script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script>
        <script src="../js/bootstrap.js" type="text/javascript"></script>
        <script src="../js/template.js" type="text/javascript"></script>
        <script src="../js/prettify/prettify.min.js" type="text/javascript"></script>
    
            <link rel="shortcut icon" href="../img/favicon.ico"/>
        <link rel="apple-touch-icon" href="../img/apple-touch-icon.png"/>
        <link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png"/>
        <link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png"/>
    </head>
<body>

        <div class="navbar navbar-fixed-top">
        <div class="navbar-inner">
            <div class="container">
                <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                    <span class="icon-bar"></span> <span class="icon-bar"></span>
                    <span class="icon-bar"></span> </a>
                <a class="brand" href="../index.html">Gallery PHP code documentation</a>

                <div class="nav-collapse">
                    <ul class="nav">
                        <li class="dropdown">
                            <a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                API Documentation <b class="caret"></b>
                            </a>
                            <ul class="dropdown-menu">
                                                                    <li><a>Namespaces</a></li>
                                                                        <li><a href="../namespaces/OCA.html">OCA</a></li>
                                                                                                                                </ul>
                        </li>
                        <li class="dropdown" id="charts-menu">
                            <a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                Charts <b class="caret"></b>
                            </a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="../graph_class.html">
                                        <i class="icon-list-alt"></i>&#160;Class hierarchy diagram
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="dropdown" id="reports-menu">
                            <a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                Reports <b class="caret"></b>
                            </a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="../errors.html">
                                        <i class="icon-list-alt"></i>&#160;Errors
                                    </a>
                                </li>
                                <li>
                                    <a href="../markers.html">
                                        <i class="icon-list-alt"></i>&#160;Markers
                                    </a>
                                </li>
                                <li>
                                    <a href="../deprecated.html">
                                        <i class="icon-list-alt"></i>&#160;Deprecated
                                    </a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="go_to_top">
            <a href="#___" style="color: inherit">Back to top&#160;&#160;<i class="icon-upload icon-white"></i></a>
        </div>
    </div>
    
    <div id="___" class="container">
        <noscript>
            <div class="alert alert-warning">
                Javascript is disabled; several features are only available if Javascript is enabled.
            </div>
        </noscript>

        
            <style>
        .deprecated h2 {
            text-decoration: line-through;
        }
    </style>
    <div class="row">
        <div class="span4">
                    <div class="btn-group view pull-right" data-toggle="buttons-radio">
        <button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button>
        <button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
    </div>
    <div class="btn-group visibility" data-toggle="buttons-checkbox">
        <button class="btn public active" title="Show public elements">Public</button>
        <button class="btn protected" title="Show protected elements">Protected</button>
        <button class="btn private" title="Show private elements">Private</button>
        <button class="btn inherited active" title="Show inherited elements">Inherited</button>
    </div>

        <ul class="side-nav nav nav-list">
        <li class="nav-header">
            <i class="icon-custom icon-method"></i> Methods
            <ul>
                                                                                                    <li class="method public">
        <a href="#method___construct" title="__construct :: ">
            <span class="description"></span><pre>__construct</pre>
        </a>
    </li>

                                                                                                                                                                <li class="method public">
        <a href="#method_getDisplayName" title="getDisplayName :: Returns the name of the user sharing files publicly">
            <span class="description">Returns the name of the user sharing files publicly</span><pre>getDisplayName</pre>
        </a>
    </li>

                                                                                                        <li class="method public">
        <a href="#method_getNodeFromUserFolder" title="getNodeFromUserFolder :: Returns the Node based on a path starting from the files&#039; owner user folder">
            <span class="description">Returns the Node based on a path starting from the files&#039; owner user folder</span><pre>getNodeFromUserFolder</pre>
        </a>
    </li>

                                                                                                        <li class="method public">
        <a href="#method_getNodeFromVirtualRoot" title="getNodeFromVirtualRoot :: Returns the Node based on a path starting from the virtual root">
            <span class="description">Returns the Node based on a path starting from the virtual root</span><pre>getNodeFromVirtualRoot</pre>
        </a>
    </li>

                                                                                                        <li class="method public">
        <a href="#method_getPathFromUserFolder" title="getPathFromUserFolder :: Returns the path which goes from the file, up to the user folder, based on a node:
parent_folder/current_folder/my_file">
            <span class="description">Returns the path which goes from the file, up to the user folder, based on a node:
parent_folder/current_folder/my_file</span><pre>getPathFromUserFolder</pre>
        </a>
    </li>

                                                                                                        <li class="method public">
        <a href="#method_getPathFromVirtualRoot" title="getPathFromVirtualRoot :: Returns the path which goes from the file, up to the root folder of the Gallery:
current_folder/my_file">
            <span class="description">Returns the path which goes from the file, up to the root folder of the Gallery:
current_folder/my_file</span><pre>getPathFromVirtualRoot</pre>
        </a>
    </li>

                                                                                                                                                                                                                        <li class="method public">
        <a href="#method_getResourceFromId" title="getResourceFromId :: Returns the resource identified by the given ID">
            <span class="description">Returns the resource identified by the given ID</span><pre>getResourceFromId</pre>
        </a>
    </li>

                                                                                                        <li class="method public">
        <a href="#method_getSharedFolderName" title="getSharedFolderName :: Returns the name of shared folder">
            <span class="description">Returns the name of shared folder</span><pre>getSharedFolderName</pre>
        </a>
    </li>

                                                                                                        <li class="method public">
        <a href="#method_getSharedNode" title="getSharedNode :: Returns the shared node">
            <span class="description">Returns the shared node</span><pre>getSharedNode</pre>
        </a>
    </li>

                                                                                                        <li class="method public">
        <a href="#method_getSharePassword" title="getSharePassword :: Returns the password for the share, if there is one">
            <span class="description">Returns the password for the share, if there is one</span><pre>getSharePassword</pre>
        </a>
    </li>

                                                                                                        <li class="method public">
        <a href="#method_getUserId" title="getUserId :: Returns the userId of the currently logged-in user or the sharer">
            <span class="description">Returns the userId of the currently logged-in user or the sharer</span><pre>getUserId</pre>
        </a>
    </li>

                                                                                                        <li class="method public">
        <a href="#method_getVirtualRootFolder" title="getVirtualRootFolder :: Returns the virtual root where the user lands after logging in or when following a link">
            <span class="description">Returns the virtual root where the user lands after logging in or when following a link</span><pre>getVirtualRootFolder</pre>
        </a>
    </li>

                                                                                                        <li class="method public">
        <a href="#method_isTokenBasedEnv" title="isTokenBasedEnv :: Returns true if the environment has been setup using a token">
            <span class="description">Returns true if the environment has been setup using a token</span><pre>isTokenBasedEnv</pre>
        </a>
    </li>

                                                                                                        <li class="method public">
        <a href="#method_setStandardEnv" title="setStandardEnv :: Creates the environment for a logged-in user">
            <span class="description">Creates the environment for a logged-in user</span><pre>setStandardEnv</pre>
        </a>
    </li>

                                                                                                        <li class="method public">
        <a href="#method_setTokenBasedEnv" title="setTokenBasedEnv :: Creates the environment based on the linkItem the token links to">
            <span class="description">Creates the environment based on the linkItem the token links to</span><pre>setTokenBasedEnv</pre>
        </a>
    </li>

                                                </ul>
        </li>
        <li class="nav-header protected">» Protected
            <ul>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </ul>
        </li>
        <li class="nav-header private">» Private
            <ul>
                                                                                                                <li class="method private">
                            <a href="#method_buildFromRootToFolder" title="buildFromRootToFolder :: Returns the path from the shared folder to the root folder in the original
owner&#039;s filesystem: /userId/files/parent_folder/shared_folder">
                                <span class="description">Returns the path from the shared folder to the root folder in the original
owner&#039;s filesystem: /userId/files/parent_folder/shared_folder</span><pre>buildFromRootToFolder</pre>
                            </a>
                        </li>
                                                                                                                                                                                                                                                                    <li class="method private">
                            <a href="#method_getRelativePath" title="getRelativePath :: Returns the path which goes from the file, up to the user folder, based on a path:
parent_folder/current_folder/my_file">
                                <span class="description">Returns the path which goes from the file, up to the user folder, based on a path:
parent_folder/current_folder/my_file</span><pre>getRelativePath</pre>
                            </a>
                        </li>
                                                                                <li class="method private">
                            <a href="#method_getResourceFromFolderAndId" title="getResourceFromFolderAndId :: Returns the resource found in a specific folder and identified by the given ID">
                                <span class="description">Returns the resource found in a specific folder and identified by the given ID</span><pre>getResourceFromFolderAndId</pre>
                            </a>
                        </li>
                                                                                                                                                                                                                                                                                                                                                                                    </ul>
        </li>
        <li class="nav-header">
            <i class="icon-custom icon-constant"></i> Constants
            <ul>
                            </ul>
        </li>
    </ul>


        </div>

        <div class="span8">
            <div class="element class">
                <h1>Environment</h1>
                <small style="display: block; text-align: right">
                                                        </small>
                <p class="short_description">Builds the environment so that the services have access to the files and folders&#039; owner</p>
                <div class="details">
                    <div class="long_description">
                        
                    </div>
                    <table class="table table-bordered">
                                                                                    <tr>
                                    <th>
                                        package
                                                                            </th>
                                    <td>
                                                                                    
                                                                                <p>OCA\GalleryPlus\Environment</p>
                                    </td>
                                </tr>
                                                                                                                                                                                </table>

                    <h3><i class="icon-custom icon-method"></i> Methods</h3>
                                                                <a id="method___construct"></a>
                        <div class="element clickable method public  method___construct" data-toggle="collapse" data-target=".method___construct .collapse">
                            <h2>__construct</h2>
                            <pre>__construct( $appName,  $userId,  $userFolder, \OCP\IUserManager $userManager, \OCP\Files\IRootFolder $rootFolder, \OCP\ILogger $logger) </pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"></div>

                                    <table class="table">
                                                                                    <tr>
                                                <th>
                                                    
                                                </th>
                                                <td>
                                                                                                    </td>
                                            </tr>
                                                                                    <tr>
                                                <th>
                                                    
                                                </th>
                                                <td>
                                                                                                    </td>
                                            </tr>
                                                                                                                    </table>

                                                                            <h3>Arguments</h3>
                                                                                    <div class="subelement argument">
                                                <h4>$appName</h4>
                                                <code></code><p></p>
                                            </div>
                                                                                    <div class="subelement argument">
                                                <h4>$userId</h4>
                                                <code></code><p></p>
                                            </div>
                                                                                    <div class="subelement argument">
                                                <h4>$userFolder</h4>
                                                <code></code><p></p>
                                            </div>
                                                                                    <div class="subelement argument">
                                                <h4>$userManager</h4>
                                                <code>\OCP\IUserManager</code><p></p>
                                            </div>
                                                                                    <div class="subelement argument">
                                                <h4>$rootFolder</h4>
                                                <code>\OCP\Files\IRootFolder</code><p></p>
                                            </div>
                                                                                    <div class="subelement argument">
                                                <h4>$logger</h4>
                                                <code>\OCP\ILogger</code><p></p>
                                            </div>
                                                                            
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_buildFromRootToFolder"></a>
                        <div class="element clickable method private  method_buildFromRootToFolder" data-toggle="collapse" data-target=".method_buildFromRootToFolder .collapse">
                            <h2>Returns the path from the shared folder to the root folder in the original
owner&#039;s filesystem: /userId/files/parent_folder/shared_folder</h2>
                            <pre>buildFromRootToFolder(string $fileSource) : string</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"><p>This cannot be calculated with paths and IDs, the linkitem's file source is required</p></div>

                                    <table class="table">
                                                                                                                    </table>

                                                                            <h3>Arguments</h3>
                                                                                    <div class="subelement argument">
                                                <h4>$fileSource</h4>
                                                <code>string</code><p></p>
                                            </div>
                                                                            
                                                                            <h3>Response</h3>
                                        <code>string</code><p></p>
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_getDisplayName"></a>
                        <div class="element clickable method public  method_getDisplayName" data-toggle="collapse" data-target=".method_getDisplayName .collapse">
                            <h2>Returns the name of the user sharing files publicly</h2>
                            <pre>getDisplayName() : string</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"></div>

                                    <table class="table">
                                                                                    <tr>
                                                <th>
                                                    
                                                </th>
                                                <td>
                                                                                                    </td>
                                            </tr>
                                                                                                                            <tr>
                                                <th>Throws</th>
                                                <td>
                                                    <dl>
                                                                                                            <dt>\OCA\GalleryPlus\Environment\NotFoundEnvException</dt>
                                                        <dd></dd>
                                                                                                                                                            </dl>
                                                </td>
                                            </tr>
                                                                            </table>

                                    
                                                                            <h3>Response</h3>
                                        <code>string</code><p></p>
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_getNodeFromUserFolder"></a>
                        <div class="element clickable method public  method_getNodeFromUserFolder" data-toggle="collapse" data-target=".method_getNodeFromUserFolder .collapse">
                            <h2>Returns the Node based on a path starting from the files&#039; owner user folder</h2>
                            <pre>getNodeFromUserFolder(string $path) : \OCP\Files\File|\OCP\Files\Folder</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"><p>When logged in, this is the current user's user folder
When visiting a link, this is the sharer's user folder</p></div>

                                    <table class="table">
                                                                                                                            <tr>
                                                <th>Throws</th>
                                                <td>
                                                    <dl>
                                                                                                            <dt>\OCA\GalleryPlus\Environment\NotFoundEnvException</dt>
                                                        <dd></dd>
                                                                                                                                                            </dl>
                                                </td>
                                            </tr>
                                                                            </table>

                                                                            <h3>Arguments</h3>
                                                                                    <div class="subelement argument">
                                                <h4>$path</h4>
                                                <code>string</code><p></p>
                                            </div>
                                                                            
                                                                            <h3>Response</h3>
                                        <code>\OCP\Files\File|\OCP\Files\Folder</code><p></p>
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_getNodeFromVirtualRoot"></a>
                        <div class="element clickable method public  method_getNodeFromVirtualRoot" data-toggle="collapse" data-target=".method_getNodeFromVirtualRoot .collapse">
                            <h2>Returns the Node based on a path starting from the virtual root</h2>
                            <pre>getNodeFromVirtualRoot(string $subPath) : \OCP\Files\File|\OCP\Files\Folder</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"></div>

                                    <table class="table">
                                                                                                                    </table>

                                                                            <h3>Arguments</h3>
                                                                                    <div class="subelement argument">
                                                <h4>$subPath</h4>
                                                <code>string</code><p></p>
                                            </div>
                                                                            
                                                                            <h3>Response</h3>
                                        <code>\OCP\Files\File|\OCP\Files\Folder</code><p></p>
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_getPathFromUserFolder"></a>
                        <div class="element clickable method public  method_getPathFromUserFolder" data-toggle="collapse" data-target=".method_getPathFromUserFolder .collapse">
                            <h2>Returns the path which goes from the file, up to the user folder, based on a node:
parent_folder/current_folder/my_file</h2>
                            <pre>getPathFromUserFolder(\OCP\Files\Node $file) : string</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"><p>This is used for the preview system, which needs a full path</p>
<p>getPath() on the file produces a path like:
'/userId/files/my_folder/my_sub_folder/my_file'</p>
<p>So we substract the path to the folder, giving us a relative path
'my_folder/my_sub_folder/my_file'</p></div>

                                    <table class="table">
                                                                                                                    </table>

                                                                            <h3>Arguments</h3>
                                                                                    <div class="subelement argument">
                                                <h4>$file</h4>
                                                <code>\OCP\Files\Node</code><p></p>
                                            </div>
                                                                            
                                                                            <h3>Response</h3>
                                        <code>string</code><p></p>
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_getPathFromVirtualRoot"></a>
                        <div class="element clickable method public  method_getPathFromVirtualRoot" data-toggle="collapse" data-target=".method_getPathFromVirtualRoot .collapse">
                            <h2>Returns the path which goes from the file, up to the root folder of the Gallery:
current_folder/my_file</h2>
                            <pre>getPathFromVirtualRoot(\OCP\Files\File|\OCP\Files\Folder|\OCA\GalleryPlus\Environment\N $node) : string</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"><p>That root folder changes when folders are shared publicly</p></div>

                                    <table class="table">
                                                                                                                    </table>

                                                                            <h3>Arguments</h3>
                                                                                    <div class="subelement argument">
                                                <h4>$node</h4>
                                                <code>\OCP\Files\File|\OCP\Files\Folder|\OCA\GalleryPlus\Environment\N</code><p></p>
                                            </div>
                                                                            
                                                                            <h3>Response</h3>
                                        <code>string</code><p></p>
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_getRelativePath"></a>
                        <div class="element clickable method private  method_getRelativePath" data-toggle="collapse" data-target=".method_getRelativePath .collapse">
                            <h2>Returns the path which goes from the file, up to the user folder, based on a path:
parent_folder/current_folder/my_file</h2>
                            <pre>getRelativePath(string $fullPath) : string</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"><p>getPath() on the file produces a path like:
'/userId/files/my_folder/my_sub_folder/my_file'</p>
<p>So we substract the path to the user folder, giving us a relative path
'my_folder/my_sub_folder'</p></div>

                                    <table class="table">
                                                                                                                    </table>

                                                                            <h3>Arguments</h3>
                                                                                    <div class="subelement argument">
                                                <h4>$fullPath</h4>
                                                <code>string</code><p></p>
                                            </div>
                                                                            
                                                                            <h3>Response</h3>
                                        <code>string</code><p></p>
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_getResourceFromFolderAndId"></a>
                        <div class="element clickable method private  method_getResourceFromFolderAndId" data-toggle="collapse" data-target=".method_getResourceFromFolderAndId .collapse">
                            <h2>Returns the resource found in a specific folder and identified by the given ID</h2>
                            <pre>getResourceFromFolderAndId(\OCP\Files\Folder $folder, integer $resourceId) : \OCP\Files\Node</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"></div>

                                    <table class="table">
                                                                                                                            <tr>
                                                <th>Throws</th>
                                                <td>
                                                    <dl>
                                                                                                            <dt>\OCA\GalleryPlus\Environment\NotFoundEnvException</dt>
                                                        <dd></dd>
                                                                                                                                                            </dl>
                                                </td>
                                            </tr>
                                                                            </table>

                                                                            <h3>Arguments</h3>
                                                                                    <div class="subelement argument">
                                                <h4>$folder</h4>
                                                <code>\OCP\Files\Folder</code><p></p>
                                            </div>
                                                                                    <div class="subelement argument">
                                                <h4>$resourceId</h4>
                                                <code>integer</code><p></p>
                                            </div>
                                                                            
                                                                            <h3>Response</h3>
                                        <code>\OCP\Files\Node</code><p></p>
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_getResourceFromId"></a>
                        <div class="element clickable method public  method_getResourceFromId" data-toggle="collapse" data-target=".method_getResourceFromId .collapse">
                            <h2>Returns the resource identified by the given ID</h2>
                            <pre>getResourceFromId(integer $resourceId) : \OCP\Files\Node</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"></div>

                                    <table class="table">
                                                                                                                            <tr>
                                                <th>Throws</th>
                                                <td>
                                                    <dl>
                                                                                                            <dt>\OCA\GalleryPlus\Environment\NotFoundEnvException</dt>
                                                        <dd></dd>
                                                                                                                                                            </dl>
                                                </td>
                                            </tr>
                                                                            </table>

                                                                            <h3>Arguments</h3>
                                                                                    <div class="subelement argument">
                                                <h4>$resourceId</h4>
                                                <code>integer</code><p></p>
                                            </div>
                                                                            
                                                                            <h3>Response</h3>
                                        <code>\OCP\Files\Node</code><p></p>
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_getSharedFolderName"></a>
                        <div class="element clickable method public  method_getSharedFolderName" data-toggle="collapse" data-target=".method_getSharedFolderName .collapse">
                            <h2>Returns the name of shared folder</h2>
                            <pre>getSharedFolderName() : string</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"></div>

                                    <table class="table">
                                                                                    <tr>
                                                <th>
                                                    
                                                </th>
                                                <td>
                                                                                                    </td>
                                            </tr>
                                                                                                                    </table>

                                    
                                                                            <h3>Response</h3>
                                        <code>string</code><p></p>
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_getSharedNode"></a>
                        <div class="element clickable method public  method_getSharedNode" data-toggle="collapse" data-target=".method_getSharedNode .collapse">
                            <h2>Returns the shared node</h2>
                            <pre>getSharedNode() : \OCP\Files\File|\OCP\Files\Folder</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"></div>

                                    <table class="table">
                                                                                    <tr>
                                                <th>
                                                    
                                                </th>
                                                <td>
                                                                                                    </td>
                                            </tr>
                                                                                                                    </table>

                                    
                                                                            <h3>Response</h3>
                                        <code>\OCP\Files\File|\OCP\Files\Folder</code><p></p>
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_getSharePassword"></a>
                        <div class="element clickable method public  method_getSharePassword" data-toggle="collapse" data-target=".method_getSharePassword .collapse">
                            <h2>Returns the password for the share, if there is one</h2>
                            <pre>getSharePassword() : string|null</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"></div>

                                    <table class="table">
                                                                                    <tr>
                                                <th>
                                                    
                                                </th>
                                                <td>
                                                                                                    </td>
                                            </tr>
                                                                                                                    </table>

                                    
                                                                            <h3>Response</h3>
                                        <code>string|null</code><p></p>
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_getUserId"></a>
                        <div class="element clickable method public  method_getUserId" data-toggle="collapse" data-target=".method_getUserId .collapse">
                            <h2>Returns the userId of the currently logged-in user or the sharer</h2>
                            <pre>getUserId() : string</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"></div>

                                    <table class="table">
                                                                                    <tr>
                                                <th>
                                                    
                                                </th>
                                                <td>
                                                                                                    </td>
                                            </tr>
                                                                                                                    </table>

                                    
                                                                            <h3>Response</h3>
                                        <code>string</code><p></p>
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_getVirtualRootFolder"></a>
                        <div class="element clickable method public  method_getVirtualRootFolder" data-toggle="collapse" data-target=".method_getVirtualRootFolder .collapse">
                            <h2>Returns the virtual root where the user lands after logging in or when following a link</h2>
                            <pre>getVirtualRootFolder() : \OCP\Files\Folder</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"></div>

                                    <table class="table">
                                                                                    <tr>
                                                <th>
                                                    
                                                </th>
                                                <td>
                                                                                                    </td>
                                            </tr>
                                                                                                                            <tr>
                                                <th>Throws</th>
                                                <td>
                                                    <dl>
                                                                                                            <dt>\OCA\GalleryPlus\Environment\NotFoundEnvException</dt>
                                                        <dd></dd>
                                                                                                                                                            </dl>
                                                </td>
                                            </tr>
                                                                            </table>

                                    
                                                                            <h3>Response</h3>
                                        <code>\OCP\Files\Folder</code><p></p>
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_isTokenBasedEnv"></a>
                        <div class="element clickable method public  method_isTokenBasedEnv" data-toggle="collapse" data-target=".method_isTokenBasedEnv .collapse">
                            <h2>Returns true if the environment has been setup using a token</h2>
                            <pre>isTokenBasedEnv() : boolean</pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"></div>

                                    <table class="table">
                                                                                    <tr>
                                                <th>
                                                    
                                                </th>
                                                <td>
                                                                                                    </td>
                                            </tr>
                                                                                                                    </table>

                                    
                                                                            <h3>Response</h3>
                                        <code>boolean</code><p></p>
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_setStandardEnv"></a>
                        <div class="element clickable method public  method_setStandardEnv" data-toggle="collapse" data-target=".method_setStandardEnv .collapse">
                            <h2>Creates the environment for a logged-in user</h2>
                            <pre>setStandardEnv() </pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"><p>userId and userFolder are already known, we define fromRootToFolder
so that the services can use one method to have access to resources
without having to know whether they're private or public</p></div>

                                    <table class="table">
                                                                                    <tr>
                                                <th>
                                                    
                                                </th>
                                                <td>
                                                                                                    </td>
                                            </tr>
                                                                                    <tr>
                                                <th>
                                                    
                                                </th>
                                                <td>
                                                                                                    </td>
                                            </tr>
                                                                                                                    </table>

                                    
                                                                    </div>
                            </div>

                        </div>
                                            <a id="method_setTokenBasedEnv"></a>
                        <div class="element clickable method public  method_setTokenBasedEnv" data-toggle="collapse" data-target=".method_setTokenBasedEnv .collapse">
                            <h2>Creates the environment based on the linkItem the token links to</h2>
                            <pre>setTokenBasedEnv(array $linkItem) </pre>
                            <div class="labels">
                                                                                                                                                                                            </div>

                            
                            <div class="row collapse">
                                <div class="detail-description">
                                    <div class="long_description"></div>

                                    <table class="table">
                                                                                    <tr>
                                                <th>
                                                    
                                                </th>
                                                <td>
                                                                                                    </td>
                                            </tr>
                                                                                                                    </table>

                                                                            <h3>Arguments</h3>
                                                                                    <div class="subelement argument">
                                                <h4>$linkItem</h4>
                                                <code>array</code><p></p>
                                            </div>
                                                                            
                                                                    </div>
                            </div>

                        </div>
                    
                    
                                                                <h3><i class="icon-custom icon-property"></i> Properties</h3>
                                                    <a id="property_appName"> </a>
                            <div class="element clickable property  private property_appName" data-toggle="collapse" data-target=".property_appName .collapse">
                                <h2>appName</h2>
                                <pre>appName : string</pre>
                                <div class="labels">
                                                                                                        </div>
                                <div class="row collapse">
                                    <div class="detail-description">
                                        <div class="long_description"></div>

                                        <table class="table">
                                                                                            <tr>
                                                    <th>
                                                        var
                                                    </th>
                                                    <td>
                                                                                                                    
                                                                                                            </td>
                                                </tr>
                                                                                    </table>

                                                                                    <h3>Type(s)</h3>
                                            <code>string</code>
                                                                            </div>
                                </div>
                            </div>
                                                    <a id="property_userId"> </a>
                            <div class="element clickable property  private property_userId" data-toggle="collapse" data-target=".property_userId .collapse">
                                <h2>The userId of the logged-in user or the person sharing a folder publicly</h2>
                                <pre>userId : string</pre>
                                <div class="labels">
                                                                                                        </div>
                                <div class="row collapse">
                                    <div class="detail-description">
                                        <div class="long_description"></div>

                                        <table class="table">
                                                                                            <tr>
                                                    <th>
                                                        var
                                                    </th>
                                                    <td>
                                                                                                                    
                                                                                                            </td>
                                                </tr>
                                                                                    </table>

                                                                                    <h3>Type(s)</h3>
                                            <code>string</code>
                                                                            </div>
                                </div>
                            </div>
                                                    <a id="property_userFolder"> </a>
                            <div class="element clickable property  private property_userFolder" data-toggle="collapse" data-target=".property_userFolder .collapse">
                                <h2>The userFolder of the logged-in user or the ORIGINAL owner of the files which are shared
publicly</h2>
                                <pre>userFolder : \OCP\Files\Folder|null</pre>
                                <div class="labels">
                                                                                                        </div>
                                <div class="row collapse">
                                    <div class="detail-description">
                                        <div class="long_description"><p>A share needs to be tracked back to its original owner in order to be able to access the
resource</p></div>

                                        <table class="table">
                                                                                            <tr>
                                                    <th>
                                                        var
                                                    </th>
                                                    <td>
                                                                                                                    
                                                                                                            </td>
                                                </tr>
                                                                                    </table>

                                                                                    <h3>Type(s)</h3>
                                            <code>\OCP\Files\Folder|null</code>
                                                                            </div>
                                </div>
                            </div>
                                                    <a id="property_userManager"> </a>
                            <div class="element clickable property  private property_userManager" data-toggle="collapse" data-target=".property_userManager .collapse">
                                <h2>userManager</h2>
                                <pre>userManager : \OCP\IUserManager</pre>
                                <div class="labels">
                                                                                                        </div>
                                <div class="row collapse">
                                    <div class="detail-description">
                                        <div class="long_description"></div>

                                        <table class="table">
                                                                                            <tr>
                                                    <th>
                                                        var
                                                    </th>
                                                    <td>
                                                                                                                    
                                                                                                            </td>
                                                </tr>
                                                                                    </table>

                                                                                    <h3>Type(s)</h3>
                                            <code>\OCP\IUserManager</code>
                                                                            </div>
                                </div>
                            </div>
                                                    <a id="property_sharedNodeId"> </a>
                            <div class="element clickable property  private property_sharedNodeId" data-toggle="collapse" data-target=".property_sharedNodeId .collapse">
                                <h2>sharedNodeId</h2>
                                <pre>sharedNodeId : integer</pre>
                                <div class="labels">
                                                                                                        </div>
                                <div class="row collapse">
                                    <div class="detail-description">
                                        <div class="long_description"></div>

                                        <table class="table">
                                                                                            <tr>
                                                    <th>
                                                        var
                                                    </th>
                                                    <td>
                                                                                                                    
                                                                                                            </td>
                                                </tr>
                                                                                    </table>

                                                                                    <h3>Type(s)</h3>
                                            <code>integer</code>
                                                                            </div>
                                </div>
                            </div>
                                                    <a id="property_sharedNode"> </a>
                            <div class="element clickable property  private property_sharedNode" data-toggle="collapse" data-target=".property_sharedNode .collapse">
                                <h2>sharedNode</h2>
                                <pre>sharedNode : \OCP\Files\File|\OCP\Files\Folder</pre>
                                <div class="labels">
                                                                                                        </div>
                                <div class="row collapse">
                                    <div class="detail-description">
                                        <div class="long_description"></div>

                                        <table class="table">
                                                                                            <tr>
                                                    <th>
                                                        var
                                                    </th>
                                                    <td>
                                                                                                                    
                                                                                                            </td>
                                                </tr>
                                                                                    </table>

                                                                                    <h3>Type(s)</h3>
                                            <code>\OCP\Files\File|\OCP\Files\Folder</code>
                                                                            </div>
                                </div>
                            </div>
                                                    <a id="property_rootFolder"> </a>
                            <div class="element clickable property  private property_rootFolder" data-toggle="collapse" data-target=".property_rootFolder .collapse">
                                <h2>rootFolder</h2>
                                <pre>rootFolder : \OCP\Files\IRootFolder</pre>
                                <div class="labels">
                                                                                                        </div>
                                <div class="row collapse">
                                    <div class="detail-description">
                                        <div class="long_description"></div>

                                        <table class="table">
                                                                                            <tr>
                                                    <th>
                                                        var
                                                    </th>
                                                    <td>
                                                                                                                    
                                                                                                            </td>
                                                </tr>
                                                                                    </table>

                                                                                    <h3>Type(s)</h3>
                                            <code>\OCP\Files\IRootFolder</code>
                                                                            </div>
                                </div>
                            </div>
                                                    <a id="property_logger"> </a>
                            <div class="element clickable property  private property_logger" data-toggle="collapse" data-target=".property_logger .collapse">
                                <h2>logger</h2>
                                <pre>logger : \OCP\ILogger</pre>
                                <div class="labels">
                                                                                                        </div>
                                <div class="row collapse">
                                    <div class="detail-description">
                                        <div class="long_description"></div>

                                        <table class="table">
                                                                                            <tr>
                                                    <th>
                                                        var
                                                    </th>
                                                    <td>
                                                                                                                    
                                                                                                            </td>
                                                </tr>
                                                                                    </table>

                                                                                    <h3>Type(s)</h3>
                                            <code>\OCP\ILogger</code>
                                                                            </div>
                                </div>
                            </div>
                                                    <a id="property_fromRootToFolder"> </a>
                            <div class="element clickable property  private property_fromRootToFolder" data-toggle="collapse" data-target=".property_fromRootToFolder .collapse">
                                <h2>The path to the userFolder for users with accounts: /userId/files</h2>
                                <pre>fromRootToFolder : string</pre>
                                <div class="labels">
                                                                                                        </div>
                                <div class="row collapse">
                                    <div class="detail-description">
                                        <div class="long_description"><p>For public folders, it's the path from the shared folder to the root folder in the original
owner's filesystem: /userId/files/parent_folder/shared_folder</p></div>

                                        <table class="table">
                                                                                            <tr>
                                                    <th>
                                                        var
                                                    </th>
                                                    <td>
                                                                                                                    
                                                                                                            </td>
                                                </tr>
                                                                                    </table>

                                                                                    <h3>Type(s)</h3>
                                            <code>string</code>
                                                                            </div>
                                </div>
                            </div>
                                                    <a id="property_folderName"> </a>
                            <div class="element clickable property  private property_folderName" data-toggle="collapse" data-target=".property_folderName .collapse">
                                <h2>The name of the shared folder</h2>
                                <pre>folderName : string</pre>
                                <div class="labels">
                                                                                                        </div>
                                <div class="row collapse">
                                    <div class="detail-description">
                                        <div class="long_description"></div>

                                        <table class="table">
                                                                                            <tr>
                                                    <th>
                                                        var
                                                    </th>
                                                    <td>
                                                                                                                    
                                                                                                            </td>
                                                </tr>
                                                                                    </table>

                                                                                    <h3>Type(s)</h3>
                                            <code>string</code>
                                                                            </div>
                                </div>
                            </div>
                                                    <a id="property_sharePassword"> </a>
                            <div class="element clickable property  private property_sharePassword" data-toggle="collapse" data-target=".property_sharePassword .collapse">
                                <h2>sharePassword</h2>
                                <pre>sharePassword : string|null</pre>
                                <div class="labels">
                                                                                                        </div>
                                <div class="row collapse">
                                    <div class="detail-description">
                                        <div class="long_description"></div>

                                        <table class="table">
                                                                                            <tr>
                                                    <th>
                                                        var
                                                    </th>
                                                    <td>
                                                                                                                    
                                                                                                            </td>
                                                </tr>
                                                                                    </table>

                                                                                    <h3>Type(s)</h3>
                                            <code>string|null</code>
                                                                            </div>
                                </div>
                            </div>
                                                            </div>
            </div>
            <a id="\OCA\GalleryPlus\Environment\Environment"></a>
            <ul class="breadcrumb">
                <li><a href="../index.html"><i class="icon-custom icon-class"></i></a></li>
                    
    
    <li><span class="divider">\</span><a href="../namespaces/OCA.GalleryPlus.Environment.html">Environment</a></li>

                <li class="active"><span class="divider">\</span><a href="../classes/OCA.GalleryPlus.Environment.Environment.html">Environment</a></li>
            </ul>
        </div>
    </div>

    </div>

        <footer class="span12">
            Template is built using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap 2</a> and icons provided by
            <a href="http://glyphicons.com/">Glyphicons</a>.<br/>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor </a> and<br/>
            generated on Wed, 20 Jul 2016 19:25:17 +0000.<br/>
    </footer>
    </body>
</html>
